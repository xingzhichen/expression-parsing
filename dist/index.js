!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t=r();for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(window,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(r){return e[r]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/",t(t.s=0)}([function(e,r,t){"use strict";t.r(r);var n={"!":!0,"-":!0,"+":!0},i={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,"+":9,"-":9,"*":10,"/":10,"%":10},s={undefined:void 0,null:null,false:!1,true:!0};function a(e){return e.reduce(function(e,r){return"string"!=typeof r&&"number"!=typeof r||(e[r]=!0),e},{})}function u(e,r){return r.forEach(function(r){delete e[r]}),Array.isArray(e)?e.filter(function(e){return e}):e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(t,!0).forEach(function(r){p(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(r){var t=r.unaryOps,u=r.binaryOps,o=r.literals;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.maxBinaryLen=1,this.maxUnary=1,this.binaryOps=h({},i),this.unaryOps=h({},n),this.literals=h({},s),u&&Object.keys(u).length&&(this.binaryOps=h({},u)),t&&t.length&&(this.unaryOps=h({},a(t))),o&&Object.keys(o).length&&(this.literals=h({},o)),this.maxBinaryLen=this.getMaxBinaryLen(),this.maxUnary=this.getMaxUnaryLen()}var r,t,o;return r=e,(t=[{key:"getMaxBinaryLen",value:function(){return Object.keys(this.binaryOps).reduce(function(e,r){return r.length>e?r.length:e},1)}},{key:"getMaxUnaryLen",value:function(){return Object.keys(this.unaryOps).reduce(function(e,r){return r.length>e?r.length:e},1)}},{key:"addBinaryOps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.binaryOps=h({},this.binaryOps,{},e),this.maxBinaryLen=this.getMaxBinaryLen(),this}},{key:"addUnaryOps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.unaryOps=h({},this.unaryOps,{},a(e)),this.maxUnary=this.getMaxUnaryLen(),this}},{key:"addLiterals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.literals=h({},this.literals,{},e),this}},{key:"removeUnaryOps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(this.unaryOps,e),this.maxUnary=this.getMaxUnaryLen(),this}},{key:"removeBinaryOps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(this.binaryOps,e),this.maxBinaryLen=this.getMaxBinaryLen(),this}},{key:"removeLiterals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(this.literals,e),this}},{key:"getUnaryOps",value:function(){return Object.keys(this.unaryOps)}},{key:"getBinaryOps",value:function(){return h({},this.binaryOps)}},{key:"getLiterals",value:function(){return h({},this.literals)}}])&&c(r.prototype,t),o&&c(r,o),e}();function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,r){return!r||"object"!==f(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,r){return(x=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}t.d(r,"ExpressionParse",function(){return g});var g=function(e){function r(e){var t;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),(t=v(this,d(r).call(this,e))).expression="",t.index=0;var n=e.expression;return t.expression=n,t}var t,n,i;return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&x(e,r)}(r,l),t=r,(n=[{key:"error",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected ".concat(this.getCurrentChar()),r=arguments.length>1?arguments[1]:void 0,t=new Error("".concat(e," at character ").concat(r||this.index));throw t}},{key:"getCurrentChar",value:function(){return this.expression[this.index]}},{key:"jumpOverSpace",value:function(){for(var e=/\s/;this.index<this.expression.length;){var r=this.getCurrentChar();if(!r||!e.test(r))return;this.index++}}},{key:"isIdentifierStart",value:function(e){return!!e&&/[\$_A-Za-z]/.test(e)}},{key:"isIdentifierPart",value:function(e){return!!e&&/[\$_A-Za-z0-9]/.test(e)}},{key:"getAst",value:function(){this.index=0;for(var e=[this.parseExpression()];this.index<this.expression.length;){this.jumpOverSpace(),";"===this.getCurrentChar()&&this.index++;var r=this.parseExpression();e.push(r)}return e.length>1?e:e[0]}},{key:"parseExpression",value:function(){if(!this.expression)return null;var e=this.parseBinaryExpression();if(this.jumpOverSpace(),"?"===this.getCurrentChar()){this.index++;var r=this.parseExpression();r||this.error("Expected Expression"),":"!==this.getCurrentChar()&&this.error("Expected ".concat(":")),this.index++;var t=this.parseExpression();return t||this.error("Expected Expression"),{type:"ConditionalExpression",test:e,consequent:r,alternate:t}}return e}},{key:"parseBinaryExpression",value:function(){var e=this.parseToken(),r=this.parseBinaryOperator();if(!r)return e;var t=this.parseToken();r&&!t&&this.error();for(var n=[e,t],i=[r],s=function(){var e=i.pop(),r=n.pop(),t={type:"BinaryExpression",left:n.pop(),operator:e,right:r};n.push(t)},a=null;a=this.parseBinaryOperator();){for(;i[i.length-1]&&this.binaryOps[i[i.length-1].value]>=this.binaryOps[a.value];)s();i.push(a);var u=this.parseToken();u||this.error(),n.push(u)}for(;i.length;)s();return n[0]}},{key:"parseBinaryOperator",value:function(){this.jumpOverSpace();for(var e=this.maxBinaryLen,r=this.index;e>0;){var t=this.expression.slice(this.index,this.index+e);if(!t)return null;if(this.binaryOps.hasOwnProperty(t))return this.index+=e,{type:"BinaryOperator",value:t,start:r,end:this.index};e--}return null}},{key:"parseToken",value:function(){if(this.jumpOverSpace(),!this.getCurrentChar())return null;var e=this.parseUnary()||this.parseObject()||this.parseNumber()||this.parseString()||this.parseArray();return e||this.error(),e}},{key:"parseUnary",value:function(){for(var e=this.maxUnary,r=this.index;e>0;){var t=this.expression.slice(this.index,this.index+e);if(!t)return null;if(this.unaryOps.hasOwnProperty(t))return this.index+=e,{type:"UnaryExpression",operate:{type:"UnaryOperator",value:t,start:r,end:this.index},argument:this.parseToken()};e--}return null}},{key:"parseNumber",value:function(){var e="",r=this.index,t=!1;for("."===this.getCurrentChar()&&(t=!0,e+=this.getCurrentChar(),this.index++);this.getCurrentChar()&&/^([\de\.])/.test(this.getCurrentChar());)e+=this.getCurrentChar(),"."===this.getCurrentChar()&&(t&&this.error(),t=!0),this.index++;return e?(this.isIdentifierStart(this.getCurrentChar())&&this.error("Variable cannot start with number",r),{type:"Literal",value:parseFloat(e),start:r,end:this.index,raw:e}):null}},{key:"parseString",value:function(){var e="",r=!1,t=this.getCurrentChar(),n=this.index;if("'"!==t&&'"'!==t)return null;for(;this.index<this.expression.length;){this.index++;var i=this.getCurrentChar();if(i===t){r=!0;break}if("\\"===i)switch(this.index++,this.getCurrentChar()){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=this.getCurrentChar()}else e+=i}return this.index++,r||this.error("Unclosed quote after \"'".concat(e,"'\"")),{type:"Literal",value:e,start:n,end:this.index,raw:"".concat(t).concat(e).concat(t)}}},{key:"parseArguments",value:function(){for(var e=[];this.index<this.expression.length;){this.jumpOverSpace();var r=this.getCurrentChar();if("]"===r||")"===r)break;var t=this.parseExpression();this.jumpOverSpace();var n=this.getCurrentChar();if("]"===n||")"===n){e.push(t);break}","===n&&t&&e.push(t),this.index++}return e}},{key:"parseArray",value:function(){if("["===this.getCurrentChar()){this.index++;var e=this.parseArguments();if(this.jumpOverSpace(),"]"===this.getCurrentChar())return this.index++,{type:"ArrayExpression",arguments:e};this.error("Expected ".concat("]"))}return null}},{key:"parseVariable",value:function(){return this.parseGroup()||this.parseLiteral()}},{key:"parseGroup",value:function(){if("("===this.getCurrentChar()){this.index++,this.jumpOverSpace();var e=this.parseExpression();if(this.jumpOverSpace(),")"===this.getCurrentChar())return this.index++,e;this.error("Expected ".concat(")"))}return null}},{key:"parseObject",value:function(){var e=this.parseVariable();if(!e)return null;if("("===this.getCurrentChar()){this.index++,this.jumpOverSpace();var r=this.parseArguments();this.jumpOverSpace(),")"===this.getCurrentChar()?(this.index++,e={type:"CallExpression",callee:e,arguments:r}):this.error("Expected ".concat(")"))}if("."!==this.getCurrentChar()&&"["!==this.getCurrentChar())return e;for(;"."===this.getCurrentChar()||"["===this.getCurrentChar();)if("."===this.getCurrentChar())this.index++,e={type:"MemberExpression",computed:!1,object:e,property:this.parseLiteral()};else if("["===this.getCurrentChar()){this.index++;var t=this.parseExpression();this.jumpOverSpace(),"]"===this.getCurrentChar()?(this.index++,e={type:"MemberExpression",computed:!0,object:e,property:t}):this.error("Expected ".concat("]"))}return e}},{key:"parseLiteral",value:function(){this.jumpOverSpace();var e=this.index,r=this.getCurrentChar();if(this.isIdentifierStart(this.getCurrentChar())){for(this.index++;this.getCurrentChar()&&this.isIdentifierPart(this.getCurrentChar());)r+=this.getCurrentChar(),this.index++;return this.literals.hasOwnProperty(r)?{type:"Literal",start:e,end:this.index,value:this.literals[r],raw:r}:{type:"Identifier",start:e,end:this.index,name:r}}return null}}])&&y(t.prototype,n),i&&y(t,i),r}();g.version="1.0.2"}])});